From 3c60c3bade50920bab9e1bf95abcd43102d9d6c7 Mon Sep 17 00:00:00 2001
From: Nam Nguyen <nam.nguyen.xb@rvc.renesas.com>
Date: Sun, 20 Nov 2016 11:05:13 +0700
Subject: [PATCH] adding flexible display for video streaming

---
 RZ_GST-network-demo_receive-video.sh | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

diff --git a/RZ_GST-network-demo_receive-video.sh b/RZ_GST-network-demo_receive-video.sh
index 74d4714..e4caa0f 100755
--- a/RZ_GST-network-demo_receive-video.sh
+++ b/RZ_GST-network-demo_receive-video.sh
@@ -1,9 +1,21 @@
 #!/bin/bash
 
+source /home/root/.bashrc
+
+if [ $D_WIDTH -lt 1920 ]
+then
+	scale_width="out-width=$D_WIDTH"
+	scale_height="out-height=$D_HEIGHT"
+else
+	unset scale_width
+	unset scale_height
+fi
+
 gst-launch-1.0 -e \
 udpsrc port=5000 caps="application/x-rtp" ! \
 queue ! \
 rtph264depay ! \
 h264parse ! \
 omxh264dec ! \
-waylandsink max-lateness=-1 qos=false position_x=0 position_y=0
+waylandsink max-lateness=-1 qos=false position_x=0 position_y=0 \
+$scale_width $scale_height
-- 
1.9.1

