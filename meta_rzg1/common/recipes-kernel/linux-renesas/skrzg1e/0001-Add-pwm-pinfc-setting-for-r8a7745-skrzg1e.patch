From e46b644fd014ae0b5d0e03ce8137a9b12578d9af Mon Sep 17 00:00:00 2001
From: TungDang <tung.dang.jy@rvc.renesas.com>
Date: Fri, 16 Sep 2016 16:02:22 +0700
Subject: [PATCH 1/2] Add-pwm-pinfc-setting-for-r8a7745-skrzg1e

Signed-off-by: TungDang <tung.dang.jy@rvc.renesas.com>
---
 drivers/pinctrl/sh-pfc/pfc-r8a7745.c | 167 +++++++++++++++++++++++++++++++++++
 1 file changed, 167 insertions(+)

diff --git a/drivers/pinctrl/sh-pfc/pfc-r8a7745.c b/drivers/pinctrl/sh-pfc/pfc-r8a7745.c
index 4f0e892..6228ed1 100644
--- a/drivers/pinctrl/sh-pfc/pfc-r8a7745.c
+++ b/drivers/pinctrl/sh-pfc/pfc-r8a7745.c
@@ -1361,6 +1361,111 @@ static const unsigned int audio_clkout_c_pins[] = {
 static const unsigned int audio_clkout_c_mux[] = {
	AUDIO_CLKOUT_C_MARK,
 };
+
+/* - PWM -------------------------------------------------------------------- */
+static const unsigned int pwm0_pins[] = {
+        RCAR_GP_PIN(1, 14),
+};
+static const unsigned int pwm0_mux[] = {
+        PWM0_MARK,
+};
+static const unsigned int pwm0_b_pins[] = {
+        RCAR_GP_PIN(5, 3),
+};
+static const unsigned int pwm0_b_mux[] = {
+        PWM0_B_MARK,
+};
+static const unsigned int pwm1_pins[] = {
+        RCAR_GP_PIN(4, 5),
+};
+static const unsigned int pwm1_mux[] = {
+        PWM1_MARK,
+};
+static const unsigned int pwm1_b_pins[] = {
+        RCAR_GP_PIN(5, 10),
+};
+static const unsigned int pwm1_b_mux[] = {
+        PWM1_B_MARK,
+};
+static const unsigned int pwm1_c_pins[] = {
+        RCAR_GP_PIN(1, 18),
+};
+static const unsigned int pwm1_c_mux[] = {
+        PWM1_C_MARK,
+};
+static const unsigned int pwm2_pins[] = {
+        RCAR_GP_PIN(4, 10),
+};
+static const unsigned int pwm2_mux[] = {
+        PWM2_MARK,
+};
+static const unsigned int pwm2_b_pins[] = {
+        RCAR_GP_PIN(5, 17),
+};
+static const unsigned int pwm2_b_mux[] = {
+        PWM2_B_MARK,
+};
+static const unsigned int pwm2_c_pins[] = {
+        RCAR_GP_PIN(0, 13),
+};
+static const unsigned int pwm2_c_mux[] = {
+        PWM2_C_MARK,
+};
+static const unsigned int pwm3_pins[] = {
+        RCAR_GP_PIN(4, 13),
+};
+static const unsigned int pwm3_mux[] = {
+        PWM3_MARK,
+};
+static const unsigned int pwm3_b_pins[] = {
+        RCAR_GP_PIN(0, 16),
+};
+static const unsigned int pwm3_b_mux[] = {
+        PWM3_B_MARK,
+};
+static const unsigned int pwm4_pins[] = {
+        RCAR_GP_PIN(1, 3),
+};
+static const unsigned int pwm4_mux[] = {
+        PWM4_MARK,
+};
+static const unsigned int pwm4_b_pins[] = {
+        RCAR_GP_PIN(0, 21),
+};
+static const unsigned int pwm4_b_mux[] = {
+        PWM4_B_MARK,
+};
+static const unsigned int pwm5_pins[] = {
+        RCAR_GP_PIN(3, 30),
+};
+static const unsigned int pwm5_mux[] = {
+        PWM5_MARK,
+};
+static const unsigned int pwm5_b_pins[] = {
+        RCAR_GP_PIN(4, 0),
+};
+static const unsigned int pwm5_b_mux[] = {
+        PWM5_B_MARK,
+};
+static const unsigned int pwm5_c_pins[] = {
+        RCAR_GP_PIN(0, 10),
+};
+static const unsigned int pwm5_c_mux[] = {
+        PWM5_C_MARK,
+};
+static const unsigned int pwm6_pins[] = {
+        RCAR_GP_PIN(4, 8),
+};
+static const unsigned int pwm6_mux[] = {
+        PWM6_MARK,
+};
+static const unsigned int pwm6_b_pins[] = {
+        RCAR_GP_PIN(0, 7),
+};
+static const unsigned int pwm6_b_mux[] = {
+        PWM6_B_MARK,
+};
+
 /* - AVB -------------------------------------------------------------------- */
 static const unsigned int avb_link_pins[] = {
	RCAR_GP_PIN(3, 26),
@@ -3516,6 +3621,23 @@ static const struct sh_pfc_pin_group pinmux_groups[] = {
	SH_PFC_PIN_GROUP(vin1_field),
	SH_PFC_PIN_GROUP(vin1_clkenb),
	SH_PFC_PIN_GROUP(vin1_clk),
+    SH_PFC_PIN_GROUP(pwm0),
+    SH_PFC_PIN_GROUP(pwm0_b),
+    SH_PFC_PIN_GROUP(pwm1),
+    SH_PFC_PIN_GROUP(pwm1_b),
+    SH_PFC_PIN_GROUP(pwm1_c),
+    SH_PFC_PIN_GROUP(pwm2),
+    SH_PFC_PIN_GROUP(pwm2_b),
+    SH_PFC_PIN_GROUP(pwm2_c),
+    SH_PFC_PIN_GROUP(pwm3),
+    SH_PFC_PIN_GROUP(pwm3_b),
+    SH_PFC_PIN_GROUP(pwm4),
+    SH_PFC_PIN_GROUP(pwm4_b),
+    SH_PFC_PIN_GROUP(pwm5),
+    SH_PFC_PIN_GROUP(pwm5_b),
+    SH_PFC_PIN_GROUP(pwm5_c),
+    SH_PFC_PIN_GROUP(pwm6),
+    SH_PFC_PIN_GROUP(pwm6_b),
 };

 static const char * const audio_clk_groups[] = {
@@ -3534,6 +3656,44 @@ static const char * const audio_clk_groups[] = {
	"audio_clkout_c",
 };

+static const char * const pwm0_groups[] = {
+        "pwm0",
+        "pwm0_b",
+};
+
+static const char * const pwm1_groups[] = {
+        "pwm1",
+        "pwm1_b",
+        "pwm1_c",
+};
+
+static const char * const pwm2_groups[] = {
+        "pwm2",
+		"pwm2_b",
+		"pwm2_c",
+};
+
+static const char * const pwm3_groups[] = {
+        "pwm3",
+		"pwm3_b",
+};
+
+static const char * const pwm4_groups[] = {
+        "pwm4",
+        "pwm4_b",
+};
+
+static const char * const pwm5_groups[] = {
+        "pwm5",
+        "pwm5_b",
+		"pwm5_c",
+};
+
+static const char * const pwm6_groups[] = {
+        "pwm6",
+		"pwm6_b",
+};
+
 static const char * const avb_groups[] = {
	"avb_link",
	"avb_magic",
@@ -3949,6 +4109,13 @@ static const struct sh_pfc_function pinmux_functions[] = {
	SH_PFC_FUNCTION(usb1),
	SH_PFC_FUNCTION(vin0),
	SH_PFC_FUNCTION(vin1),
+    SH_PFC_FUNCTION(pwm0),
+    SH_PFC_FUNCTION(pwm1),
+    SH_PFC_FUNCTION(pwm2),
+    SH_PFC_FUNCTION(pwm3),
+    SH_PFC_FUNCTION(pwm4),
+    SH_PFC_FUNCTION(pwm5),
+    SH_PFC_FUNCTION(pwm6),
 };

 static const struct pinmux_cfg_reg pinmux_config_regs[] = {
--
1.9.1

